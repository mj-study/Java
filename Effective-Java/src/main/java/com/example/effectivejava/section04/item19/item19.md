## 📌 상속을 고려한 설계의 중요성

- 상위 클래스의 동작을 자식 클래스가 깨뜨리지 않도록 해야 함
    - 상속을 허용할 때, 하위 클래스가 상위 클래스의 내부 동작에 의존하지 않도록 설계해야함
    - 자식 클래스가 상위 클래스의 비공개 내부 동작에 의존하게 되면
      → 상위 클래스의 구현이 변경될 때 자식 클래스의 동작이 예기치 않게 동작할 수 있음
- 문서화의 중요성
    - 상속을 허용하는 클래스는 반드시 하위 클래스가 어떤 메서드를 재정의 할 수 있는지 재정의 할때 어떤 규칙을 따라야 하는지 문서화해야함
    - 상속을 고려한 메서드에는 그 메서드가 하위 클래스에서 호출될 때 어떻게 동작해야 하는지 명확히 기술해야 함
- 안전한 상속을 위한 가이드 라인
    - 상속이 허용되는 클래스의 메서드는 하위 클래스에서 재정의할 수 있도록 설계하고
      , 필요한 경우 `protected` 접근자를 사용
    - 클래스의 내부 상태를 변경하거나 캡슐화를 깨는 방법으로 상속을 남용하지 않도록 주의!

## 📌 상속을 고려한 설계와 문서화 방법

- 상속 가능한 메서드의 문서화
    - 어떤 메서드를 재정의할 수 있는지, 그 메서드가 재정의되었을 때의 예상 동작을 문서화해야함
- [템플릿 메서드 패턴 사용](https://www.notion.so/22e61d870ad94576a37c8a90f1db9a2a?pvs=21)
    - 상속을 허용하는 클래스에서 상위 클래스의 동작을 재정의할 수 있는 메서드를 `protected`로 정의하고, 전체적인 동작의 흐름을 `final` 메서드로 구현하여 하위 클래스가 상위 클래스의 기본 동작을 변경하지 못하게 할 수 있음

    <aside>
    💡

  템플릿 메서드 패턴?

    - 알고리즘의 구조를 정의하고, 알고리즘의 일부 간계를 서브 클래스에서 구현하도록 하는 패턴
    - 상위 클래스에 알고리즘의 기본적인 틀을 정의하고, 하위 클래스에서 이 알고리즘의 특정 단계를 구체적으로 구현하는 방식으로 동작
    </aside>

- 호출할 수 있는 메서드의 순서를 문서화
    - 상속을 허용하는 메서드는 하위 클래스에서 호출할 수 있는 모든 메서드의 순서를 문서화하고, 메서드 간의 의존성을 명확히 해야 함

## 📌 예시 코드

```java
public abstract	class LolCharacter {

	/**
	 * 기본적인 롤 캐릭터 패시브, 특성, 스킬 생성
	 */
	public final void make() {
		System.out.println("== 캐릭터 생성중 ==");
		passive();
		motion();
	}

	/**
	 * 롤 캐릭터 별 패시브가 다르기 때문에 하위 클래스는 반드시 재정의
	 */
	protected abstract void passive();

	/**
	 * 필요에 따라 재정의
	 * ex) 이동방법이 다른 캐릭터가 있는 경우 재정의할 것
	 */
	protected void motion() {
		System.out.println("캐릭터가 이동중입니다");
	}
}
```

```java
public class LolExtends {

	class Timo extends LolCharacter {

		@Override
		protected void motion() {
			System.out.println("귀엽게 걸어요");
		}

		@Override
		protected void passive() {
			System.out.println("은신 효과 획득");
		}
	}

	class Mundo extends LolCharacter {

		@Override
		protected void passive() {
			System.out.println("체력 짱짱 많이 획득");
		}
	}
}
```

## 📌 정리

- 상속을 허용하는 클래스를 설계할 때, 상위 클래스의 내부 구현에 의존하지 않도록 주의하고, 재정의할 수 있는 메서드와 그 방법을 명확히 문서화해야함
- 템플릿 메서드 패턴을 사용하여 상속의 안정성 🔼, 하위 클래스가 기본 동작을 변경하지 못하도록 `final` 키워드를 사용하여 메서드의 재정의를 제한하는것이 좋음